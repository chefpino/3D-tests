<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="main.css">
  </head>
<body>
<table border="1">
  <tr>
    <td><canvas id="myCanvas" width="1000" height="700" style="border:1px solid">
      Your browser does not support the HTML5 canvas tag.</canvas></td>
    <td valign="top">
      <div id="dynamicSliders"></div>
    </td>
  </tr>  
</table>

<script src="interface.js"></script>
<script src="data.js"></script>
<script>
//--- PARAMETERS ---  
const c = document.getElementById("myCanvas");
const ctx = c.getContext("2d"); 
const cW=c.clientWidth;
const cH=c.clientHeight;
const pi=Math.PI;

//--- here are defined to be global, the actual values are taken from the external files
var initAngle=0;       //trunk angle
var dAngle=0;          //half of bifurcation angle, pi/8 nice
var initLen=0;         //max 150
var minLen=0;          //20, 25 nice
var reduction=0;       //0.8 nice
var initTrunk=0;       //trunk initial thickness
var trunkReduction=0;  //trunk => tree reduction factor 
var minBranch=0;       //branches min thickness


//-------------------- INIT---------------------------
function init(){
    //ctx.beginPath();     

    initAngle=params["initAngle"].val;          
    dAngle=params["dAngle"].val;            
    initLen=params["initLen"].val;       
    minLen=params["minLen"].val;  
    reduction=params["reduction"].val;       
    initTrunk=params["initTrunk"].val;       
    trunkReduction=params["trunkReduction"].val;    
    minBranch=params["minBranch"].val;   

    ctx.shadowBlur = 5;
    ctx.shadowColor = "green";

    draw(0,0,initAngle,initLen,initTrunk);
    //draw(-200,0,initAngle,70,10);
    //draw(200,0,initAngle,80,10);
  }  
//----------------------------------------------------
function reDraw() {  
  ctx.clearRect(0, 0, cW, cH);
  init();  
}
//--------------------------------------------------
function resetReload() {
  location.reload();  
}
// -- after load events --------------------------------------
init();
initControls();
//--------------------------------------------------------


</script> 
</body>
</html>
