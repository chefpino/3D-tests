<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../../css/main.css" />
    <script src="../../math-library/math-complexnumbers.js"></script>
    <script src="../../math-library/graphicfunctions.js"></script>
    <script src="../../navigation/controls.js"></script>
    <script src="../../pages-data/unit.circle.data.js"></script>
    <script src="../../navigation/menu.js"></script>
  </head>
  <body onload="init();">

    <table border="0">
      <tr>
        <td valign="top">
          <div id="menu" ></div>
          <hr>
          <div id="content"></div>
          <hr>
          <div id="dynamicSliders"></div>
        </td>
        <td valign="top">
          <canvas
            id="myCanvas"
            width="700"
            height="700"
            style="border: 1px solid;"
          ></canvas>
        </td>
      </tr>
    </table>
    <script>
      //--- global PARAMETERS ------------------------------------------------------------------
      const myCanvas = document.getElementById("myCanvas");
      const ctx = myCanvas.getContext("2d");

      const cW = myCanvas.clientWidth;
      const cH = myCanvas.clientHeight;
      /*/
const cW=ctx.clientWidth;
const cH=ctx.clientHeight;
*/
      // -- range
      const x0 = -1.1;
      const x1 = 1.1;
      const y0 = -1.1;
      const y1 = 1.1;

      const π = Math.PI;

      const fixedOrigin=false;

      var reMap=new ReMap(cW,cH,x0,x1,y0,y1,fixedOrigin); //functions to map real value to canvas coordinates
          reMap.objCanvas=ctx;
      

      var points = params.points.val;

      //------------------------------------------------
      function init() {
        genNavigation("unitcircle",false); //add navigation
        generateControls();
        fileToParameters(); //initiate event listener for file uploader
        loadvaluesandgo(); // WIP !
      }
      //-------------------------------------------------

      function loadvaluesandgo() {
        //go! button
        points = params.points.val;        
        unitCircle();
        reMap.drawAxis();
      }

      //_______________________________________________________________________________________

      function unitCircle() {
        //---clear canvas
        reMap.clearcanvas();

        var iSteps = points;
        var dStep = (2 * π) / iSteps;

        var c1 = new c(0, 0);
        var c2 = new c(0, 0);
        //var c3=new c(2,2);

        for (let index = 0; index <= iSteps; index++) {
          c1.x = r(1, dStep * (index + 1)).x;
          c1.y = r(1, dStep * (index + 1)).y;
          c2 = p(c1, c1);
          reMap.drawSegment(c1, c2);
        }
      }


      //-------------------------------------------
    </script>
  </body>
</html>
